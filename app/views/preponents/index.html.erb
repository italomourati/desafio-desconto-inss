<h1>Lista de Funcionários</h1>

<div id="preponents">
  <table class="table table-striped table-bordered table-hover table-dark">
    <thead>
      <tr>
        <th>Nome</th>
        <th>CPF</th>
        <th>Salário</th>
        <th>Disconto INSS</th>
        <th>Actions</th>
      </tr>
    </thead>
    <tbody>
      <% @preponents.each do |preponent| %>
        <tr>
          <td><%= preponent.name %></td>
          <td><%= preponent.cpf %></td>
          <td><%= number_to_currency(preponent.salary, precision: 2, locale: "pt-BR") %></td>
          <td><%= number_to_currency(preponent.inss_discount, precision: 2, locale: "pt-BR") %></td>
          <td>
            <%= link_to "Detalhes", preponent, class: "btn btn-info btn-sm" %>
            <%= link_to "Edição", edit_preponent_path(preponent), class: "btn btn-warning btn-sm" %>
            <%= link_to "Remover", preponent, method: :delete, data: { confirm: "Are you sure?" }, class: "btn btn-danger btn-sm" %>
          </td>
        </tr>
      <% end %>
    </tbody>
  </table>

  <div class="btn-group" role="group" aria-label="Pagination">
    <% if @page > 1 %>
      <%= link_to 'Anterior', preponents_path(page: @page - 1), class: 'btn btn-secondary btn-sm' %>
    <% else %>
      <button class="btn btn-secondary btn-sm" disabled>Previous</button>
    <% end %>

    <span class="btn btn-light btn-sm disabled">Pagina <%= @page %> de <%= @total_pages %></span>

    <% if @page < @total_pages %>
      <%= link_to 'Próxima', preponents_path(page: @page + 1), class: 'btn btn-secondary btn-sm' %>
    <% else %>
      <button class="btn btn-secondary btn-sm" disabled>Next</button>
    <% end %>
  </div>
</div>
